{
	"info": {
		"_postman_id": "98f3ab01-fb6b-4eb4-a4bc-81e24678ae67",
		"name": "SWAPI Test",
		"description": "### Welcome to Postman! This is your first collection. \n\nCollections are your starting point for building and testing APIs. You can use this one to:\n\n• Group related requests\n• Test your API in real-world scenarios\n• Document and share your requests\n\nUpdate the name and overview whenever you’re ready to make it yours.\n\n[Learn more about Postman Collections.](https://learning.postman.com/docs/collections/collections-overview/)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "51353825",
		"_collection_link": "https://danieldelrosariopimienta-9028896.postman.co/workspace/Dani-Del-Rosario's-Workspace~ad03c665-45a6-4f80-823d-8b2fdc5155da/collection/51353825-98f3ab01-fb6b-4eb4-a4bc-81e24678ae67?action=share&source=collection_link&creator=51353825"
	},
	"item": [
		{
			"name": "People",
			"item": [
				{
					"name": "Get all people",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const json = pm.response.json();",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});",
									"",
									"pm.test(\"Content-Type is JSON\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"pm.test(\"Response has main properties\", function () {",
									"    pm.expect(json).to.have.property(\"count\");",
									"    pm.expect(json).to.have.property(\"next\");",
									"    pm.expect(json).to.have.property(\"previous\");",
									"    pm.expect(json).to.have.property(\"results\");",
									"});",
									"",
									"pm.test(\"Results is a non-empty array\", function () {",
									"    const results = pm.response.json().results;",
									"    pm.expect(results).to.be.an(\"array\");",
									"    pm.expect(results.length).to.be.greaterThan(0);",
									"}); ",
									"",
									"pm.test(\"Next page is present\", function () {",
									"    pm.expect(json.next).to.not.be.null;",
									"});",
									"",
									"pm.test(\"Each person has required fields\", () => {",
									"    pm.expect(json.results).to.be.an(\"array\");",
									"",
									"    json.results.forEach(person => {",
									"        [",
									"            \"name\",",
									"            \"height\",",
									"            \"mass\",",
									"            \"gender\",",
									"            \"homeworld\",",
									"            \"films\",",
									"            \"species\",",
									"            \"vehicles\",",
									"            \"starships\",",
									"            \"url\"",
									"        ].forEach(field => {",
									"            pm.expect(person).to.have.property(field);",
									"        });",
									"    });",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/people",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"people"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get person by URL",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});",
									"",
									"pm.test(\"Content-Type is JSON\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"const json = pm.response.json();",
									"",
									"pm.test(\"Response URL matches request URL\", function () {",
									"    pm.expect(json.url).to.eql(pm.request.url.toString());",
									"});",
									"",
									"pm.test(\"Films, vehicles and starships are arrays\", function () {",
									"    pm.expect(json.films).to.be.an(\"array\");",
									"    pm.expect(json.vehicles).to.be.an(\"array\");",
									"    pm.expect(json.starships).to.be.an(\"array\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{personUrl}}",
							"host": [
								"{{personUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search people by name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});",
									"",
									"pm.test(\"Content-Type is JSON\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"const json = pm.response.json();",
									"",
									"pm.test(\"Search returns results\", () => {",
									"    pm.expect(json.results.length).to.be.greaterThan(0);",
									"});",
									"",
									"pm.test(\"All results contain the search term in name\", () => {",
									"    json.results.forEach(person => {",
									"        pm.expect(person.name.toLowerCase()).to.include(\"luke\");",
									"    });",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/people?search=luke",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"people"
							],
							"query": [
								{
									"key": "search",
									"value": "luke"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get person by id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const jsonData = pm.response.json();",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});",
									"",
									"pm.test(\"Content-Type is JSON\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"pm.test(\"Name is correct\", function () {",
									"    pm.expect(jsonData.name).to.eql(\"Luke Skywalker\");",
									"});",
									"",
									"pm.test(\"Response has required fields\", function () {",
									"    pm.expect(jsonData).to.have.property(\"name\");",
									"    pm.expect(jsonData).to.have.property(\"height\");",
									"    pm.expect(jsonData).to.have.property(\"mass\");",
									"    pm.expect(jsonData).to.have.property(\"gender\");",
									"    pm.expect(jsonData).to.have.property(\"homeworld\");",
									"    pm.expect(jsonData).to.have.property(\"films\");",
									"    pm.expect(jsonData).to.have.property(\"created\");",
									"    pm.expect(jsonData).to.have.property(\"url\");",
									"});",
									"",
									"pm.test(\"Films, vehicles and starships are arrays\", function () {",
									"    pm.expect(jsonData.films).to.be.an(\"array\");",
									"    pm.expect(jsonData.vehicles).to.be.an(\"array\");",
									"    pm.expect(jsonData.starships).to.be.an(\"array\");",
									"});",
									"",
									"pm.test(\"Created and edited are valid dates\", function () {",
									"    pm.expect(new Date(jsonData.created)).to.be.a(\"date\");",
									"    pm.expect(new Date(jsonData.edited)).to.be.a(\"date\");",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/people/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"people",
								"1"
							],
							"query": [
								{
									"key": "",
									"value": null,
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get non-existent person",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});",
									"",
									"pm.test(\"Response has error detail\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('detail');",
									"    pm.expect(jsonData.detail).to.include('Not found');",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/people/9999/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"people",
								"9999",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Root",
			"item": [
				{
					"name": "Api Info",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});",
									"",
									"pm.test(\"Content-Type is JSON\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"pm.test(\"Api info is correct\", function () {",
									"    pm.response.to.have.jsonBody({",
									"        \"films\": \"https://swapi.dev/api/films/\",",
									"        \"people\": \"https://swapi.dev/api/people/\",",
									"        \"planets\": \"https://swapi.dev/api/planets/\",",
									"        \"species\": \"https://swapi.dev/api/species/\",",
									"        \"starships\": \"https://swapi.dev/api/starships/\",",
									"        \"vehicles\": \"https://swapi.dev/api/vehicles/\"",
									"    });",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}",
							"host": [
								"{{baseUrl}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Vehicles",
			"item": [
				{
					"name": "Get all vehicles",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is normal\", () => {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});",
									"",
									"pm.test(\"Response is JSON\", () => {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"pm.test(\"Results array is not empty\", () => {",
									"    pm.expect(json.results.length).to.be.greaterThan(0);",
									"});",
									"",
									"pm.test(\"Response has valid pagination structure\", () => {",
									"    pm.expect(json).to.be.an(\"object\");",
									"",
									"    pm.expect(json).to.have.property(\"count\").that.is.a(\"number\");",
									"    pm.expect(json).to.have.property(\"next\");",
									"    pm.expect(json).to.have.property(\"previous\");",
									"    pm.expect(json).to.have.property(\"results\").that.is.an(\"array\");",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/vehicles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get vehicle by id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});",
									"",
									"pm.test(\"Content-Type is JSON\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"const vehicle = pm.response.json();",
									"",
									"pm.test(\"Vehicle has all required attributes\", () => {",
									"    const requiredFields = [",
									"        \"name\",",
									"        \"model\",",
									"        \"vehicle_class\",",
									"        \"manufacturer\",",
									"        \"length\",",
									"        \"cost_in_credits\",",
									"        \"crew\",",
									"        \"passengers\",",
									"        \"max_atmosphering_speed\",",
									"        \"cargo_capacity\",",
									"        \"films\",",
									"        \"pilots\",",
									"        \"url\",",
									"        \"created\",",
									"        \"edited\"",
									"    ];",
									"",
									"    requiredFields.forEach(field => {",
									"        pm.expect(vehicle).to.have.property(field);",
									"    });",
									"});",
									"",
									"pm.test(\"Films and pilots are arrays\", () => {",
									"    pm.expect(vehicle.films).to.be.an(\"array\");",
									"    pm.expect(vehicle.pilots).to.be.an(\"array\");",
									"});",
									"",
									"pm.test(\"URL contains correct vehicle ID\", () => {",
									"    pm.expect(vehicle.url).to.be.eq(pm.request.url.toString());",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/vehicles/8/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles",
								"8",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Search vehicle by name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Search returns results\", () => {",
									"    const results = pm.response.json().results;",
									"    pm.expect(results.length).to.be.greaterThan(0);",
									"});",
									"",
									"pm.test(\"Search results contain searched term\", () => {",
									"    const results = pm.response.json().results;",
									"    const searchParam = pm.request.url.query.get(\"search\").toLowerCase();",
									"",
									"    results.forEach(vehicle => {",
									"        const combined = `${vehicle.name} ${vehicle.model}`.toLowerCase();",
									"        pm.expect(combined).to.include(searchParam);",
									"    });",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/vehicles?search=AT-AT",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"vehicles"
							],
							"query": [
								{
									"key": "search",
									"value": "AT-AT"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Negative Tests",
			"item": [
				{
					"name": "Invalid Endpoint",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/invalid_endpoint/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"invalid_endpoint",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "New Request",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 405 Method Not Allowed\", function () {",
									"    pm.response.to.have.status(405);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/people/1/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"people",
								"1",
								""
							]
						}
					},
					"response": []
				}
			]
		}
	]
}